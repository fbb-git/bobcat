void logFiles(string dir, string pattern, string dest)
{
    list files;
    int idx;

    if (g_logPath == "")            // do not store uninstall info
        return;

    if (pattern != "")
        pattern = "-name '" + pattern + "'";

    chdir(dir);

    files = backtick("find ./ -type f " + pattern);

    for (idx = sizeof(files); idx--; )
        log(files[idx]);

    files = backtick("find ./ -type l " + pattern);

    for (idx = sizeof(files); idx--; )
        logLink(files[idx]);
}
