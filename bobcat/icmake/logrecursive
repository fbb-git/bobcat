// log recursively all files and directories in src as entries in dest
// dest is created if necessary

void logRecursive(string src, string dest)
{
    list files;
    int idx;
    string find1;
    list dirs;


    if (g_logPath == "")            // do not store uninstall info
        return;

    dirs = findDirs(src);              // local dirs, no eoln in dirs[idx]


    
    if (pattern != "")
        pattern = "-name '" + pattern + "'";

    pattern += " -printf \"%f\\n\"";

    chdir(dir);

    find1 = "find ./ -mindepth 1 -maxdepth 1 -type ";
    files = backtick(find1 + "f " + pattern);

    for (idx = sizeof(files); idx--; )
        log(files[idx]);

    files = backtick(find1 + "l " + pattern);

    for (idx = sizeof(files); idx--; )
        logLink(files[idx]);
}




