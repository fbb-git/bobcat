#ifndef INCLUDED_BOBCAT_READLINEBUF_
#define INCLUDED_BOBCAT_READLINEBUF_

#include <string>
#include <streambuf>
#include <climits>

namespace FBB
{

class ReadLineBuf: public std::streambuf
{
    bool d_history;
    std::string d_prompt;
    char *d_buffer;

    public:
        explicit ReadLineBuf(std::string const &prompt = "");
        explicit ReadLineBuf(size_t historySize,
                             std::string const &prompt = "");
        virtual ~ReadLineBuf();

        void setPrompt(std::string const &prompt = "");

    private:
        virtual int underflow();
};

inline void ReadLineBuf::setPrompt(std::string const &prompt)
{
    d_prompt = prompt;
}

} // FBB        
#endif
