#ifndef INCLUDED_BOBCAT_INETADDRESS_
#define INCLUDED_BOBCAT_INETADDRESS_

#include <netinet/in.h>
#include <string>

/*
    int-info coming in or going out: host byte order
*/    
namespace FBB
{

class InetAddress
{
    sockaddr_in     d_address;  // address/port: network byte order
                            // sa_family_t  in_addr,    uint16_t
                            // sin_family,  sin_addr,   sin_port
    public:
        uint16_t port() const;                                      // .i

            // replaces the formerly available getAddress() member.
        std::string dottedDecimalAddress() const;
        sockaddr const *sockaddrPtr() const;                        // 1.i
        sockaddr_in const *sockaddr_inPtr() const;                  // 1.i
        size_t size() const;                                        //  .i

    protected:
        InetAddress(std::string const &host, uint16_t port);
        explicit InetAddress(uint16_t port);                    // 1.i
        explicit InetAddress(sockaddr_in const &address);       // 2.i

        sockaddr *sockaddrPtr();                                // 2.i
        sockaddr_in *sockaddr_inPtr();                          // 2.i

    private:
        void init(uint32_t addr, uint16_t port);    // host byte order !
};

#include "inetaddress1.if"
#include "inetaddress2.if"
#include "port.if"
#include "size.if"
#include "sockaddrinptr1.if"
#include "sockaddrinptr2.if"
#include "sockaddrptr1.if"
#include "sockaddrptr2.if"

} // FBB

#endif
