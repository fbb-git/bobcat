#ifndef INCLUDED_BOBCAT_READLINESTREAM_
#define INCLUDED_BOBCAT_READLINESTREAM_

#include <istream>
#include <bobcat/readlinebuf>

namespace FBB
{

class ReadLineStream: virtual public HistoryExpansion, 
                      private ReadLineBuf, public std::istream
{
    public:
        explicit ReadLineStream(std::string const &prompt = "",
                                Type type = NO_EXPANSION);
        explicit ReadLineStream(size_t historySize,
                             std::string const &prompt = "");
        virtual ~ReadLineStream() = default;

        void setPrompt(std::string const &prompt = "");
};

inline ReadLineStream::ReadLineStream(std::string const &prompt, Type type)
:
    ReadLineBuf(prompt, type),
    std::istream(this)
{}

inline ReadLineStream::ReadLineStream(size_t historySize,
                               std::string const &prompt)
:
    ReadLineBuf(historySize, prompt),
    std::istream(this)
{}

inline void ReadLineStream::setPrompt(std::string const &prompt)
{
    ReadLineBuf::setPrompt(prompt);
}

} // FBB        
#endif
