
void install(string rss, string dev)
{
    string target;

    g_installing = 1;

#ifdef LIB
    printf("\n  installing the libraries\n");
    logInstall(g_tmpliba, "", dev + BASE LIB);

#ifdef BUILD_SHARED
    logInstall(g_tmplibso, "", rss + BASE LIB);
#endif

#endif

#ifdef INC
    printf("\n  installing the headers\n");
    logInstall("tmp/" LIBRARY, "", dev + BASE INC);
#endif

#ifdef MAN
    printf("\n  installing the manual pages\n");

    logZip("tmp/man/man3",  "", dev + BASE MAN "/man3");

    run("ln -sf iterator.3bobcat.gz reverseiterator.3bobcat.gz");
    logLink("reverseiterator.3bobcat.gz");

    logZip("tmp/man/man7",  "", dev + BASE MAN "/man7");
#endif

#ifdef DOC
    printf("\n  installing the html versions of the manual pages\n");

    logInstall("documentation/images", "*.jpg", dev + BASE DOC "/images");
 
    target = dev + BASE DOC + "/man";

    logInstall("tmp/manhtml", "", target);

    logInstall("documentation/man",  LIBRARY ".jpg", target);

    chdir(g_cwd + target);
    run("ln -sf " LIBRARY ".7.html index.html");
    logLink("index.html");

    run("ln -sf iterator.3.html reverseiterator.3.html");
    logLink("reverseiterator.3.html");

    logZip("", "README", rss + BASE DOC);
#endif

#ifdef DOCDEV
    printf("\n  installing remaining documentation\n");
    logZip("", 
               "READLINE "
               "README "
               "README.X11 "
               "README.class-setup "
               "README.immovable "
               "README.milter "
               "README.optimization "
               "README.process-pipe "
               "README.fnwrap "
               "process-pipe.odp "
               "process-pipe.pdf "
               "TODO",
            dev + BASE DOCDEV);

    logRecursive("documentation/examples", dev + BASE DOCDEV "/examples");

    logZip("scripts", "", dev + BASE DOCDEV "/scripts");
#endif

    printf("\n  Installation completed\n");
    writeLog();
}




